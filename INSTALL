BUILD INSTRUCTIONS:
==================

NOTES:

Linux users can build with the build.sh script.  This script will build
the Linux client and server, and Windows clients.  The usage is:
    $ ./build.sh -d <divert-install-path>
where <divert-install-path> is a path to a WinDivert binary package.
WinDivert binary package can be downloaded from:
    http://reqrypt.org/divert/

LINUX:

    1) Make sure that the following packages are installed (e.g. with apt-get
       install):
       - gcc
       - autoconf
       - libssl-dev (server only)
       - libgmp3-dev (server only)

    2) Run the following commands:
       $ autoconf
       $ ./configure
       $ make client_install
       $ make server_install        # (server)
       $ make client_install32      # (32-bit client)

FREEBSD:

    NOTE: freebsd version can only be built on a FreeBSD system.

    1) Make sure that the following packages are installed (e.g. with
       pkg_add -r):
       - gcc
       - autoconf
       - sudo (& add yourself as a sudoer)
       - gmake (& replace make with gmake)

    2) Make sure that ipfw and divert sockets are enabled.  Add the following
       lines to /boot/loader.conf:
          ipfw_load="YES"
          ipdivert_load="YES"

    3) Run the following commands:
       $ autoconf -o configure configure-freebsd.ac
       $ ./configure
       $ make client_install_freebsd

WINDOWS [LINUX CROSS COMPILATION]:

    1) Make sure the following packages are installed:
       - WinDivert      [http://reqrypt.org/divert/]
       - mingw-w64
       - nsis
       - autoconf

    2) Run the following commands:

       (32-bit version)
       $ autoconf -o configure configure-windows.ac
       $ ./configure --host=i586-mingw32msvc 'DIVERT=path/to/divert/'
       $ make client_install_windows

       (64-bit version)
       $ autoconf -o configure configure-windows.ac
       $ ./configure --host=amd64-mingw32msvc 'DIVERT=path/to/divert/'
       $ make client_install_windows

WINDOWS [NATIVE COMPILATION]:

    Note: This method cannot be used to build the 64-bit version.

    1) Make sure the following packages are installed:
       - WinDivert      [http://reqrypt.org/divert/]
       - MinGW
       - MSYS
       - NSIS

    2) Run the following commands:
       $ autoconf -o configure configure-windows.ac
       $ ./configure 'DIVERT=path/to/divert/'
       $ make client_install_windows

